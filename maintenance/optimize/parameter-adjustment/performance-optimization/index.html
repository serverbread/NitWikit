<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-maintenance/optimize/parameter-adjustment/performance-optimization" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">性能优化 | 笨蛋MC开服教程</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://yizhan.wiki/NitWikit/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://yizhan.wiki/NitWikit/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://yizhan.wiki/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="性能优化 | 笨蛋MC开服教程"><meta data-rh="true" name="description" content="性能优化主要是针对低 TPS 和高 MPST 导致的服务器顿卡或长期不流畅。"><meta data-rh="true" property="og:description" content="性能优化主要是针对低 TPS 和高 MPST 导致的服务器顿卡或长期不流畅。"><link data-rh="true" rel="icon" href="/NitWikit/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://yizhan.wiki/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization"><link data-rh="true" rel="alternate" href="https://yizhan.wiki/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://yizhan.wiki/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization" hreflang="x-default"><link rel="stylesheet" href="/NitWikit/assets/css/styles.754ab417.css">
<script src="/NitWikit/assets/js/runtime~main.d3a0d18c.js" defer="defer"></script>
<script src="/NitWikit/assets/js/main.45c55893.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/NitWikit/"><div class="navbar__logo"><img src="/NitWikit/img/book.png" alt="Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/NitWikit/img/book.png" alt="Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">NitWikit</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/NitWikit/intro">开始</a></div><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="搜索" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><a href="https://github.com/postyizhan/NitWikit" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>简体中文</a><ul class="dropdown__menu"><li><a href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-Hans">简体中文</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/NitWikit/intro">笨蛋开服教程</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/NitWikit/category/准备工作">准备工作</a><button aria-label="展开侧边栏分类 &#x27;准备工作&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/NitWikit/category/开始阶段">开始阶段</a><button aria-label="展开侧边栏分类 &#x27;开始阶段&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/NitWikit/category/建设阶段">建设阶段</a><button aria-label="展开侧边栏分类 &#x27;建设阶段&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/NitWikit/category/后期维护">后期维护</a><button aria-label="折叠侧边栏分类 &#x27;后期维护&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/NitWikit/maintenance/how-to-defend-against-cyber-attacks">如何抵御网络攻击</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/NitWikit/category/反作弊">反作弊</a><button aria-label="展开侧边栏分类 &#x27;反作弊&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/NitWikit/maintenance/server-maintenance">服务器维护</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/NitWikit/category/优化">优化</a><button aria-label="折叠侧边栏分类 &#x27;优化&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/NitWikit/maintenance/optimize/overview">概览</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/NitWikit/category/参数调整">参数调整</a><button aria-label="折叠侧边栏分类 &#x27;参数调整&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization">性能优化</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/NitWikit/maintenance/optimize/parameter-adjustment/misc">杂项优化</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/NitWikit/maintenance/optimize/config">调服务端配置</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/NitWikit/maintenance/optimize/storage-space-optimization">储存空间优化</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/NitWikit/maintenance/optimize/performance-analysis">性能分析</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/NitWikit/maintenance/optimize/optimized-plugin">优化误区</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/NitWikit/maintenance/optimize/ask-for-help">怎么让大佬帮我性能分析</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/NitWikit/maintenance/optimize/jvm-optimization">JVM 优化</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/NitWikit/maintenance/how-to-troubleshoot-problematic-plugins">如何排除有问题的插件</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/NitWikit/category/杂项">杂项</a><button aria-label="展开侧边栏分类 &#x27;杂项&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/NitWikit/category/文档贡献">文档贡献</a><button aria-label="展开侧边栏分类 &#x27;文档贡献&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/NitWikit/love">相亲墙</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/NitWikit/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/NitWikit/category/后期维护"><span itemprop="name">后期维护</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/NitWikit/category/优化"><span itemprop="name">优化</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/NitWikit/category/参数调整"><span itemprop="name">参数调整</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">性能优化</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>性能优化</h1>
<p>性能优化主要是针对低 TPS 和高 MPST 导致的服务器顿卡或长期不流畅。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="区块">区块<a class="hash-link" aria-label="区块的直接链接" title="区块的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#区块">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="模拟距离">模拟距离<a class="hash-link" aria-label="模拟距离的直接链接" title="模拟距离的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#模拟距离">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="simulate-distance">simulate-distance<a class="hash-link" aria-label="simulate-distance的直接链接" title="simulate-distance的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#simulate-distance">​</a></h4>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p>在此之前，你必须了解的是模拟距离（Simulate distance）和视野距离（View distance）区别（下文用 SDT 和 VDT 分别指代）。</p><p>模拟距离指的是玩家在这个范围内的游戏行为正常进行，如动物、怪物等 AI 的寻路，生物生成，草地扩散，水流流动等。</p><p>视野距离指的是服务器将发送给玩家的区块的数据包的距离，在这个范围内，游戏行为不一定会继续发生（这取决于 SDT）</p><p>当玩家移动导致一个区域不在玩家的 SDT 中 而又在 VDT 中，那么服务器只会读取这个区域的方块信息并发送给玩家。</p><p>而不会对这个区域进行加载。这是各种游戏常见的处理方式，弱化远处的计算能够使得服务器更加流畅。</p></div></div>
<p>您可以在末地设置更高的 <code>view-distance</code> ，这可以让鞘翅飞的更舒服而不会占用很多资源。</p>
<p>另外，应该鼓励您的玩家安装 Bobby 或 Farsight 等 mod，可以在本地缓存区块，这不会对服务器性能造成任何影响！</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="手动调整">手动调整<a class="hash-link" aria-label="手动调整的直接链接" title="手动调整的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#手动调整">​</a></h5>
<p>在 <code>spigot.yml</code> 中可以设置服务器的模拟距离：</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">simulate-distance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>如果你使用的默认 10 chunks 的模拟距离，这会非常影响性能，可以酌情减少，</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">推荐值：3 - 8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="自动调整">自动调整<a class="hash-link" aria-label="自动调整的直接链接" title="自动调整的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#自动调整">​</a></h5>
<p>安装 <a href="https://www.spigotmc.org/resources/view-distance-tweaks.75164/" target="_blank" rel="noopener noreferrer">View Distance Tweaks</a> 实现自动调整视野距离使得玩家增多时自动减少视野，玩家减少时自动增加视野。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="区块生成和加载">区块生成和加载<a class="hash-link" aria-label="区块生成和加载的直接链接" title="区块生成和加载的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#区块生成和加载">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="chunk-loading-basic">chunk-loading-basic<a class="hash-link" aria-label="chunk-loading-basic的直接链接" title="chunk-loading-basic的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#chunk-loading-basic">​</a></h4>
<p>服务器生成区块非常消耗资源，希望你服务器进行了预生成，如果没有进行的话请阅读 <a href="/NitWikit/maintenance/optimize/parameter-adjustment/overview.md">优化概论</a></p>
<p>在 <code>/config/paper-global.yml</code> 中有关于区块生成的一些参数</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">chunk-loading-basic</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">#注：以下的单位均为 chunks / seconds</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">player-max-chunk-generate-rate</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">-1.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">#为每个玩家生成分块的最大速率，  设置为-1 则禁用。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">player-max-chunk-load-rate</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">#任何单个播放器加载块的最大速率，设置为-1 则禁用。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">player-max-chunk-send-rate</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">75</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">#服务器发送给单个玩家的最大速率。设置为-1 则禁用。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>其中 <code>player-max-chunk-generate-rate</code> 对应服务器每秒钟最多为玩家生成多少区块，设置得越低区块生成越慢。</p>
<p>此时大量跑图的玩家可能会觉得服务器有一些滞后，但是能够保证大多数玩家的游戏体验，这是值得的。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">推荐值：20 - 40</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="prevent-moving-into-unloaded-chunks">prevent-moving-into-unloaded-chunks<a class="hash-link" aria-label="prevent-moving-into-unloaded-chunks的直接链接" title="prevent-moving-into-unloaded-chunks的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#prevent-moving-into-unloaded-chunks">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">推荐值: true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>防止玩家进入未加载的区块，以避免同步加载区块造成的主线程卡顿。view-distance视距越小，玩家进入未加载区块的可能性就越大。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="max-loads-per-projectile">max-loads-per-projectile<a class="hash-link" aria-label="max-loads-per-projectile的直接链接" title="max-loads-per-projectile的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#max-loads-per-projectile">​</a></h4>
<p>在 Minecraft 中，射出的箭、扔出的末影珍珠等可以加载一定距离的区块。</p>
<p>在 <code>pufferfish.yml</code> 中可以调整弹射物最多加载的区块数量。</p>
<p>降低该值可减少大量弹射物造成的区块负载，但可能会导致末影珍珠等出现问题。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">推荐值: 8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="调整区块卸载速度">调整区块卸载速度<a class="hash-link" aria-label="调整区块卸载速度的直接链接" title="调整区块卸载速度的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#调整区块卸载速度">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="delay-chunk-unloads-by">delay-chunk-unloads-by<a class="hash-link" aria-label="delay-chunk-unloads-by的直接链接" title="delay-chunk-unloads-by的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#delay-chunk-unloads-by">​</a></h4>
<p>区块的反复大量加载和卸载区块是很消耗性能的，而长期加载无效的区块也是浪费性能。</p>
<p>在 <code>paper-world-defaults.yml</code> 中可以调整玩家离开后多久开始卸载区块。</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">chunks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">delay-chunk-unloads-by</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 10s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>这有助于避免玩家来回移动时，服务器不断加载和卸载相同的区块。过高的值可能会导致一次加载太多区块。</p>
<p>在玩家频繁传送或加载的区域，可以考虑让该区域永久加载。这可以减轻服务器不小的负担。</p>
<table><thead><tr><th>推荐值</th><th>服务器类型</th></tr></thead><tbody><tr><td>5s</td><td>开荒期、玩家会大范围跑图时</td></tr><tr><td>10s</td><td>普通服务器</td></tr><tr><td>&gt;15s</td><td>服务器玩法决定玩家不会大范围移动时</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="世界保存">世界保存<a class="hash-link" aria-label="世界保存的直接链接" title="世界保存的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#世界保存">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="max-auto-save-chunks-per-tick">max-auto-save-chunks-per-tick<a class="hash-link" aria-label="max-auto-save-chunks-per-tick的直接链接" title="max-auto-save-chunks-per-tick的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#max-auto-save-chunks-per-tick">​</a></h4>
<p>在 <code>paper-world-defaults.yml</code> 中的参数，用于控制世界保存速度。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">max-auto-save-chunks-per-tick: 24</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>这个值是每个 tick 最多可以保存的区块数量，通过降低世界区块保存速度可以提高平均性能。</p>
<p>如果一个 tick 加载区块超过本设定值，将在下一个 tick 继续保存剩余的待保存区块。</p>
<p>这个值应该与需要保存的区块及玩家人数相匹配，当人数更多有更多区块需要保存时应该适当增加。</p>
<p>保存区块的速度快意味着保存时负载高，但保存时间更短。如果遭遇断电、突然死机等情况时，</p>
<p>使用更高的保存速度是有利于降低丢失区块数据的可能性的。</p>
<table><thead><tr><th>推荐值</th><th>服务器人数</th></tr></thead><tbody><tr><td>4</td><td>长期不到 10 人</td></tr><tr><td>8</td><td>20 人左右（默认）</td></tr><tr><td>12</td><td>30 人左右</td></tr><tr><td>&gt;24</td><td>长期大于 50</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="entity-per-chunk-save-limit">entity-per-chunk-save-limit<a class="hash-link" aria-label="entity-per-chunk-save-limit的直接链接" title="entity-per-chunk-save-limit的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#entity-per-chunk-save-limit">​</a></h4>
<p>在保存区块时，服务器会一并保存区块对应位置的实体。</p>
<p>在 <code>paper-world-defaults.yml</code> 中的参数，用于控制世界保存时最大保存的某种实体数量。</p>
<p>推荐值：</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">chunks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">entity-per-chunk-save-limit</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">area_effect_cloud</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">arrow</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">dragon_fireball</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">egg</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ender_pearl</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">experience_bottle</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">experience_orb</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">eye_of_ender</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">fireball</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">firework_rocket</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">llama_spit</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">potion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">shulker_bullet</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">small_fireball</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">snowball</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">spectral_arrow</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">trident</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">wither_skull</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>此项可以设置区块卸载后从内存保存到硬盘时每个区块最大的实体数量，可为每种实体规定一个限制，</p>
<p>以避免服务器尝试保存大量弹射物时崩溃，你还可以根据名称将其他实体添加到该列表中。</p>
<p>从而缓解某些玩家使用大量实体卡服。<strong>并不适用于阻止玩家建造大型生物农场。</strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="藏宝图">藏宝图<a class="hash-link" aria-label="藏宝图的直接链接" title="藏宝图的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#藏宝图">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="treasure-mapsenabled">treasure-maps.enabled<a class="hash-link" aria-label="treasure-maps.enabled的直接链接" title="treasure-maps.enabled的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#treasure-mapsenabled">​</a></h4>
<p>生成藏宝图的性能占用极高，如果要定位的结构位于未生成的区块中，服务器甚至可能会未响应。</p>
<p>只有在您预生成世界并设置原版世界边界的情况下，启用此功能才是安全的。</p>
<p>在 <code>paper-world-default.yml</code> 中的参数，决定服务器是否生成藏宝图。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">推荐值: false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="treasure-mapsfind-already-discovered">treasure-maps.find-already-discovered<a class="hash-link" aria-label="treasure-maps.find-already-discovered的直接链接" title="treasure-maps.find-already-discovered的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#treasure-mapsfind-already-discovered">​</a></h4>
<p>在 <code>paper-world-default.yml</code> 中的参数，控制服务器是否强制藏宝图在未探索的地方。</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">推荐值</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">loot-tables</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">villager-trade</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>由于这些未探索的结构通常位于尚未生成的区块中，这可能会滞后服务器。</p>
<p><code>villager-trade</code> 影响村民交易的地图。</p>
<p><code>loot-tables</code> 影响任何生成战利品的容器，如宝箱等。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="dolphindisable-treasure-searching">dolphin.disable-treasure-searching<a class="hash-link" aria-label="dolphin.disable-treasure-searching的直接链接" title="dolphin.disable-treasure-searching的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#dolphindisable-treasure-searching">​</a></h4>
<p>在 <code>purpur.yml</code> 中的参数，控制海豚是否能够寻找藏宝图。</p>
<p>设置为 true 禁用搜索。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">推荐值: true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="实体">实体<a class="hash-link" aria-label="实体的直接链接" title="实体的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#实体">​</a></h2>
<p>默认情况下，实体的占用一般占服务器的 40% 左右，如果不控制实体，即使是市面上最好的 CPU ，服务器也会卡顿。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="控制实体数量">控制实体数量<a class="hash-link" aria-label="控制实体数量的直接链接" title="控制实体数量的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#控制实体数量">​</a></h3>
<p>用 spark 等性能分析插件查看，应该希望将全部实体 tick 保持在 30% 以下（有一定数量的玩家在线的情况）。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="spawn-limits">spawn-limits<a class="hash-link" aria-label="spawn-limits的直接链接" title="spawn-limits的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#spawn-limits">​</a></h4>
<p>在 <code>bukkit.yml</code> 和 <code>paper-world-default</code> 中都有一样的配置，但 paper 如果设置将覆盖 bukkit 的。</p>
<p>所以建议直接在 <code>paper-world-default</code> 中设置：</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">spawn-limits</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">monsters</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">70</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">#怪物包括 远古守卫者、末影人、监守者、蠹虫、猪灵蛮兵、流浪者、幻术师、骷髅、潜影贝、僵尸疣猪兽、守卫者、岩浆怪、僵尸村民、僵尸猪灵、卫道士、幻翼、猪灵、史莱姆、末影龙、溺尸、掠夺者、唤魔者、僵尸、蜘蛛、尸壳、恶魂、劫掠兽、疣猪兽、洞穴蜘蛛、女巫、枯萎、末影螨、凋灵骷髅、烈焰人、巨人、爬行者、恼鬼。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">animals</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">#动物包括 猪、北极熊、狐狸、猫、僵尸马、嗅探者、熊猫、兔子、狼、牛、海龟、青蛙、悦灵、行商羊驼、驴、蜜蜂、骆驼、绵羊、蝌蚪、豹猫、鸡、哞菇、马 、羊驼、流浪商人、鹦鹉、山羊、骡、骷髅马刷、炽足兽.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">water-animals</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 包括鱿鱼和海豚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">water-ambient</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 包括鳕鱼、河豚、鲑鱼、热带鱼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">water-underground-creature</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 包括发光鱿鱼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">axolotls</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 美西螈</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ambient</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">15</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 只包括蝙蝠，建议0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>生物生成最大数量为 <code>玩家数量 * 生成限制</code>，该值越小，玩家能遇到的生物就越少，不同生物类型在每个玩家附近生成的概率是平均的。</p>
<p>这是一把双刃剑：较低的值会减轻服务器负担，但在大多数游戏模式中，自然生成的生物是游戏玩法的重要组成部分。</p>
<p>下表推荐了三种不同情况的推荐值，请结合服务器卡顿程度和玩法选择合适的值：</p>
<table><thead><tr><th>生物类型</th><th>推荐最小值</th><th>推荐值</th><th>推荐最大值</th></tr></thead><tbody><tr><td>monster</td><td>18</td><td>30</td><td>45</td></tr><tr><td>animal</td><td>5</td><td>8</td><td>10</td></tr><tr><td>water-animals</td><td>2</td><td>3</td><td>5</td></tr><tr><td>water-ambient</td><td>2</td><td>3</td><td>5</td></tr><tr><td>water-underground-creature</td><td>3</td><td>4</td><td>5</td></tr><tr><td>axolotls</td><td>3</td><td>4</td><td>5</td></tr><tr><td>ambient</td><td>0</td><td>1</td><td>1</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="mob-spawn-range">mob-spawn-range<a class="hash-link" aria-label="mob-spawn-range的直接链接" title="mob-spawn-range的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#mob-spawn-range">​</a></h4>
<p>另外，在 <code>spigot.yml</code> 中有关于生物生成范围的设置：</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">mob-spawn-range</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>因为我们降低了总生物的刷新频率和数量，生物的总密度会明显下降，考虑到过远处的怪物对于游戏性影响非常小。</p>
<p>我们可以缩小生物刷新范围（以区块为单位，且不会大于<a href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#%E6%89%8B%E5%8A%A8%E8%B0%83%E6%95%B4">模拟距离</a>）从而获得和原版接近的密度。</p>
<p>推荐值：</p>
<table><thead><tr><th style="text-align:center"><code>spawn-limit</code> 值</th><th style="text-align:center">对应 <code>mob-spawn-range</code>推荐值</th><th style="text-align:center">实际生物量</th></tr></thead><tbody><tr><td style="text-align:center">70 (默认)</td><td style="text-align:center">8（默认)</td><td style="text-align:center">100% (默认)</td></tr><tr><td style="text-align:center">56</td><td style="text-align:center">6-7</td><td style="text-align:center">90%</td></tr><tr><td style="text-align:center">42</td><td style="text-align:center">5-6</td><td style="text-align:center">78%</td></tr><tr><td style="text-align:center">28</td><td style="text-align:center">4-5</td><td style="text-align:center">65%</td></tr><tr><td style="text-align:center">14</td><td style="text-align:center">3-4</td><td style="text-align:center">48%</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="实体刷新及消失">实体刷新及消失<a class="hash-link" aria-label="实体刷新及消失的直接链接" title="实体刷新及消失的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#实体刷新及消失">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ticks-per">ticks-per<a class="hash-link" aria-label="ticks-per的直接链接" title="ticks-per的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#ticks-per">​</a></h4>
<p>在 <code>bukkit.yml</code> 中有关于生物生成频率的设置：</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">ticks-per</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">animal-spawns</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">400</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">monster-spawns</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">water-spawns</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">water-ambient-spawns</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">water-underground-creature-spawns</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">axolotl-spawns</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ambient-spawns</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>这个参数控制了多少 tick 后服务器会进行一次生物的刷新，可以看到默认情况下是每个 tick 都刷新，即每秒 20 次。</p>
<p>这无疑是非常繁重的工作，但调整这个值到太高会导致即使服务器生物没有到达上限，生物刷新频率还是偏低。</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">推荐值</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">monster-spawns</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">animal-spawns</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">399</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">water-spawns</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">199</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">water-ambient-spawns</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">399</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">water-underground-creature-spawns</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">399</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">axolotl-spawns</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">399</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ambient-spawns</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">999</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p>为什么选择 9 、199 之类的数字作为刷新频率而不是 10、200？</p><p>因为选择 10 和 200 时，每 200 tick 就会有多种类型的生物需要刷新，任务量集中在了某一刻度上，这会导致负载不平均。</p><p>使用 9、199 时，需要每 1791 tick 才会有多种类型生物需要被刷新，刷新任务被平均在了更多 tick 中。</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="despawn-ranges">despawn-ranges<a class="hash-link" aria-label="despawn-ranges的直接链接" title="despawn-ranges的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#despawn-ranges">​</a></h4>
<p>在 paper</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">推荐值:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ambient:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        hard: 72</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        soft: 30</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      axolotls:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        hard: 72</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        soft: 30</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      creature:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        hard: 72</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        soft: 30</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      misc:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        hard: 72</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        soft: 30</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      monster:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        hard: 72</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        soft: 30</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      underground_water_creature:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        hard: 72</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        soft: 30</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      water_ambient:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        hard: 72</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        soft: 30</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      water_creature:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        hard: 72</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        soft: 30</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>此项可以调整各种生物的消失范围（方块为单位）。降低这些值可以更快地清除远离玩家的生物。 您应该将 soft 软距离设置为约<code>30</code>，然后将 hard 硬性距离设置的稍微大于 simulation-distance，这样当玩家刚刚跑出区块时，生物不会立即消失（您可以一并调整 [paper-world configuration] 中的<code>delay-chunk-unloads-by</code>）。 当一个生物离开了 hard 距离，该生物会立刻消失。 当一个生物处于 soft 和 hard 距离之间，该生物将有概率消失。 您的 hard 距离应该大于 soft 距离。您应该根据模拟距离调整此项：<code>(simulation-distance * 16) + 8</code>。 此项还可能造成玩家经过后，区块不卸载的情况（因为生物还没消失）。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="碰撞箱">碰撞箱<a class="hash-link" aria-label="碰撞箱的直接链接" title="碰撞箱的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#碰撞箱">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="max-entity-collisions">max-entity-collisions<a class="hash-link" aria-label="max-entity-collisions的直接链接" title="max-entity-collisions的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#max-entity-collisions">​</a></h4>
<p>在 <code>paper-world-default.yml</code></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">推荐值: 2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>覆盖 [spigot.yml] 中的同名项。它让您决定一个实体可以同时处理多少次碰撞。<code>0</code>将导致无法推动其他实体，包括玩家。<code>2</code>应该可以处理大部分情况。 值得注意的是，这将会破坏 maxEntityCramming gamerule 也就是生物堆叠窒息。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fix-climbing-bypassing-cramming-rule">fix-climbing-bypassing-cramming-rule<a class="hash-link" aria-label="fix-climbing-bypassing-cramming-rule的直接链接" title="fix-climbing-bypassing-cramming-rule的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#fix-climbing-bypassing-cramming-rule">​</a></h4>
<p>在 <code>paper-world-default.yml</code></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">推荐值: true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>是否修复实体在攀爬时不受实体挤压影响的问题。这将防止大量生物在攀爬时堆叠在狭小空间内（例如蜘蛛）。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="实体-ai">实体 AI<a class="hash-link" aria-label="实体 AI的直接链接" title="实体 AI的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#实体-ai">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="生物激活范围">生物激活范围<a class="hash-link" aria-label="生物激活范围的直接链接" title="生物激活范围的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#生物激活范围">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="entity-activation-range">entity-activation-range<a class="hash-link" aria-label="entity-activation-range的直接链接" title="entity-activation-range的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#entity-activation-range">​</a></h5>
<p>在 <code>spigot.yml</code> 中有一个控制生物激活范围的参数 <code>entity-activation-range</code>:</p>
<p>此项可以设置实体的激活AI距离（方块为单位）。降低这些值有助于提高性能，</p>
<p>但 可能会导致怪物反应迟钝。将此值降低太多可能会破坏某些生物农场，比如刷铁机。</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">推荐值</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">entity-activation-range</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">animals</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">monsters</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">24</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">raiders</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">48</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">misc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">water</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">villagers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">flying-monsters</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">48</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="inactive-goal-selector-throttle">inactive-goal-selector-throttle<a class="hash-link" aria-label="inactive-goal-selector-throttle的直接链接" title="inactive-goal-selector-throttle的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#inactive-goal-selector-throttle">​</a></h5>
<p>在 <code>pufferfish.yml</code> 中的关于生物目标选择的配置</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">推荐值: true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>在实体非活动时限制其目标选择器，让非活动实体每 <code>20 tick</code> 更新一次其目标选择器，</p>
<p>而不是每 tick 更新一次。可以将性能提高几个百分点，而且对游戏体验的影响很小。</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="dab">dab<a class="hash-link" aria-label="dab的直接链接" title="dab的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#dab">​</a></h5>
<p>在 <code>pufferfish.yml</code> 中的关于生物 AI 的配置</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">dab</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">start-distance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">max-tick-freq</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">activation-dist-mod</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">blacklisted-entities</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>dab</code> 是什么？这是一个生物 AI 控制算法，以梯度降低远处生物的 AI 运行，因为远处生物相对不重要。</p>
<p><code>start-distance</code> 单位为格，控制了从多少远开始降低生物的 AI；</p>
<p><code>activation-dist-mod</code> 为梯度，增加此值可使较远的实体更频繁地运算。减少此值可使较远的实体运算的更慢，从而更加流畅。但会影响实体与环境互动，可能降低刷怪塔效率。</p>
<p><code>max-tick-freq</code> 单位为 tick，控制了实体最低 tick 的间距，即无论实体有多远，只要被加载，那么至少在 20 tick 内会被运算一次。</p>
<p><code>blacklisted-entities</code> 是可以无视 dab 控制 AI 的实体，如果某种实体 AI 特别重要，那么可以试着加入黑名单。</p>
<p>不同情况下的推荐值：</p>
<table><thead><tr><th>选项</th><th>牺牲 AI 换取性能</th><th>推荐</th><th>更接近原版</th></tr></thead><tbody><tr><td>start-distance</td><td>8 - 10</td><td>12</td><td>20</td></tr><tr><td>max-tick-freq</td><td>30 - 40</td><td>20</td><td>10</td></tr><tr><td>activation-dist-mod</td><td>7 - 8</td><td>7</td><td>6 -7</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="刷怪笼相关">刷怪笼相关<a class="hash-link" aria-label="刷怪笼相关的直接链接" title="刷怪笼相关的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#刷怪笼相关">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="nerf-spawner-mobs">nerf-spawner-mobs<a class="hash-link" aria-label="nerf-spawner-mobs的直接链接" title="nerf-spawner-mobs的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#nerf-spawner-mobs">​</a></h5>
<p>在 <code>spigot.yml</code> 中关于刷怪笼 AI 的参数。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nerf-spawner-mobs: false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>打开此项可以卸载刷怪笼生成的生物的 AI，被卸载 AI 的生物将不会做任何事情。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">推荐值: true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>这一项打开时候会大幅影响刷怪塔及游戏体验，因此 paper 为此做了<a href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#spawner-nerfed-mobs-should-jump">更加人性化的选项</a>。</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="spawner-nerfed-mobs-should-jump">spawner-nerfed-mobs-should-jump<a class="hash-link" aria-label="spawner-nerfed-mobs-should-jump的直接链接" title="spawner-nerfed-mobs-should-jump的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#spawner-nerfed-mobs-should-jump">​</a></h5>
<p>在 <code>paper-world-defaults.yml</code> 中控制刷怪笼 AI 的参数。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">spawner-nerfed-mobs-should-jump: false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>这个参数控制了刷怪笼刷出的生物是否能给在水中跳跃，这修复了 <code>nerf-spawner-mobs</code> 导致的刷怪塔问题。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">推荐值: true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="tick-ratesmob-spawner">tick-rates.mob-spawner<a class="hash-link" aria-label="tick-rates.mob-spawner的直接链接" title="tick-rates.mob-spawner的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#tick-ratesmob-spawner">​</a></h5>
<p>在 <code>paper-world-defaults.yml</code> 中控制刷怪笼刷新速度的参数。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">推荐值: 2 - 3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>此项调整刷怪笼的刷新频率，如果服务器有大量刷怪笼，调高刷新间隙这会很有助。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="村民相关">村民相关<a class="hash-link" aria-label="村民相关的直接链接" title="村民相关的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#村民相关">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="tick-inactive-villagers">tick-inactive-villagers<a class="hash-link" aria-label="tick-inactive-villagers的直接链接" title="tick-inactive-villagers的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#tick-inactive-villagers">​</a></h5>
<p>在 <code>spigot.yml</code> 中有一个参数可以降低村民非活跃情况的占用：</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">tick-inactive-villagers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>非活跃的定义是村民在上述参数 <code>entity-activation-range</code> 中 <code>villagers</code> 所设定的范围外时。</p>
<p>禁用此功能将有助于提高性能，但在某些情况下会让远处的村民更蠢，此项还会降低刷铁机等的效率。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">推荐值：false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="zombieaggressive-towards-villager-when-lagging">zombie.aggressive-towards-villager-when-lagging<a class="hash-link" aria-label="zombie.aggressive-towards-villager-when-lagging的直接链接" title="zombie.aggressive-towards-villager-when-lagging的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#zombieaggressive-towards-villager-when-lagging">​</a></h5>
<p>在 <code>purpur.yml</code> 中控制僵尸是否在服务器卡顿时对村民的仇恨。</p>
<p>由于村民被僵尸跟踪时会触发非常复杂的寻路、铁傀儡召唤等行为。</p>
<p>大量村民被僵尸恐吓时会造成卡顿，当 TPS 低于<code>purpur.yml</code> 中设置的 <code>lagging-threshold</code> 值时，启用此项会阻止僵尸追赶村民。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">推荐值: false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="villagerlobotomizeenabled">villager.lobotomize.enabled<a class="hash-link" aria-label="villager.lobotomize.enabled的直接链接" title="villager.lobotomize.enabled的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#villagerlobotomizeenabled">​</a></h5>
<p>在 <code>purpur.yml</code> 中控制村民 AI 的配置。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">推荐值: true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>仅当村民造成服务器卡顿时才应启用此项！否则，村民寻路会出现问题。</p>
</blockquote>
<p>村民被卸载了AI后只会按时补货。启用此项会禁用村民自动寻路。</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="villagersearch-radius">villager.search-radius<a class="hash-link" aria-label="villager.search-radius的直接链接" title="villager.search-radius的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#villagersearch-radius">​</a></h5>
<p>在 <code>purpur.yml</code> 中控制村民寻路范围的配置。该项可以调整村民尝试搜索工作方块和床的半径。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">推荐值:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          acquire-poi: 16</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          nearest-bed-sensor: 16</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>降低这个值会大大提高了村民的性能，但会阻止他们探测到比设定值更远的工作方块或床。</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="tick-rates">tick-rates<a class="hash-link" aria-label="tick-rates的直接链接" title="tick-rates的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#tick-rates">​</a></h5>
<p>在 <code>paper-world-default.yml</code> 中决定了触发 AI 行为间隔</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">推荐值:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  behavior:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    villager:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      validatenearbypoi: 60</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      acquirepoi: 120</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sensor:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    villager:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      secondarypoisensor: 80</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      nearestbedsensor: 80</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      villagerbabiessensor: 40</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      playersensor: 40</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      nearestlivingentitysensor: 40</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>当 <a href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#dabenabled">Pufferfish&#x27;s DAB</a> 启用时，不建议修改该项任何默认值。</p>
</blockquote>
<p><code>acquirepoi</code>是村民最频繁的行为, 因此它的间隔已经大大增加了。 如果村民有寻路问题，请减少此项。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="寻路">寻路<a class="hash-link" aria-label="寻路的直接链接" title="寻路的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#寻路">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="update-pathfinding-on-block-update">update-pathfinding-on-block-update<a class="hash-link" aria-label="update-pathfinding-on-block-update的直接链接" title="update-pathfinding-on-block-update的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#update-pathfinding-on-block-update">​</a></h5>
<p>在 <code>paper-world-default.yml</code> 控制生物寻路。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">推荐值: false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码  到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>禁用此项将减少寻路次数，从而提高性能。在某些情况下，这会导致生物看起来更加迟钝；</p>
<p>它们只会每 5 个 tick（0.25 秒）被动更新一次路径。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="掉落物及经验">掉落物及经验<a class="hash-link" aria-label="掉落物及经验的直接链接" title="掉落物及经验的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#掉落物及经验">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="alt-item-despawn-rate">alt-item-despawn-rate<a class="hash-link" aria-label="alt-item-despawn-rate的直接链接" title="alt-item-despawn-rate的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#alt-item-despawn-rate">​</a></h4>
<p>在 <code>paper-world-default.yml</code> 中可以为每个单独的掉落物控制消失时间。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">推荐值:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      enabled: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      items:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cobblestone: 300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        netherrack: 300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sand: 300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        red_sand: 300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        gravel: 300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        dirt: 300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        short_grass: 300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pumpkin: 300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        melon_slice: 300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        kelp: 300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        bamboo: 300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sugar_cane: 300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        twisting_vines: 300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        weeping_vines: 300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        oak_leaves: 300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        spruce_leaves: 300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        birch_leaves: 300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        jungle_leaves: 300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        acacia_leaves: 300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        dark_oak_leaves: 300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        mangrove_leaves: 300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cactus: 300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        diorite: 300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        granite: 300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        andesite: 300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        scaffolding: 600</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>此项可以设置指定物品消失的时间（tick 为单位）， 建议用此项替代扫地姬或 <code>merge-radius</code> 来提高性能。</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="merge-radius">merge-radius<a class="hash-link" aria-label="merge-radius的直接链接" title="merge-radius的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#merge-radius">​</a></h5>
<p>在 <code>spigot.yml</code> 中设置同类物品和经验球合并堆叠的距离。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">推荐值:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      item: 3.5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      exp: 4.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>可减少地面未拾取物数量。 设置得太高会导致物品合并时像瞬间传送。也会使得物品穿过方块，可能破坏一些刷怪塔。</p>
<p>此项不会判断物品是否穿过墙壁 （除非开启 Paper 中的<code>fix-items-merging-through-walls）。</code></p>
<p><code>经验球仅会在生成时合并。建议使用</code>alt-item-despawn-rate`来优化掉落物数量。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="弓箭">弓箭<a class="hash-link" aria-label="弓箭的直接链接" title="弓箭的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#弓箭">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="non-player-arrow-despawn-rate">non-player-arrow-despawn-rate<a class="hash-link" aria-label="non-player-arrow-despawn-rate的直接链接" title="non-player-arrow-despawn-rate的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#non-player-arrow-despawn-rate">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">推荐值: 20</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>怪物射出的箭消失的时间（以 tick 为单位）。因为玩家无法捡起这些箭，所以您不妨将其设置为<code>20</code>（1 秒）之类的值。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="creative-arrow-despawn-rate">creative-arrow-despawn-rate<a class="hash-link" aria-label="creative-arrow-despawn-rate的直接链接" title="creative-arrow-despawn-rate的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#creative-arrow-despawn-rate">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">推荐值: 20</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>创造模式玩家射出的箭消失的时间（以 tick 为单位）。因为玩家无法捡起这些箭，所以您不妨将其设置为<code>20</code>（1 秒）之类的值。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="盔甲架">盔甲架<a class="hash-link" aria-label="盔甲架的直接链接" title="盔甲架的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#盔甲架">​</a></h3>
<p>在 <code>paper-world-default.yml</code> 中控制是否将盔甲架加入 tick。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="armor-standstick">armor-stands.tick<a class="hash-link" aria-label="armor-stands.tick的直接链接" title="armor-stands.tick的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#armor-standstick">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">推荐值: false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>在大部分情况下，将该项设置为<code>false</code>是安全的。如果您使用盔甲架或任何相关的插件时遇到了问题，请重新启用它。</p>
<p>这将防止盔甲架被水推动或受到重力的影响。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="armor-standsdo-collision-entity-lookups">armor-stands.do-collision-entity-lookups<a class="hash-link" aria-label="armor-stands.do-collision-entity-lookups的直接链接" title="armor-stands.do-collision-entity-lookups的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#armor-standsdo-collision-entity-lookups">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">推荐值: false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>是否启用盔甲架碰撞。如果您有很多盔甲架，并且不想它们与任何东西发生碰撞，这将有所帮助。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="红石">红石<a class="hash-link" aria-label="红石的直接链接" title="红石的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#红石">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="redstone-implementation">redstone-implementation<a class="hash-link" aria-label="redstone-implementation的直接链接" title="redstone-implementation的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#redstone-implementation">​</a></h3>
<p>在 <code>paper-world-default.yml</code> 中控制红石系统使用的引擎。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">推荐值: ALTERNATE_CURRENT</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>将红石系统替换为优化版本，减少冗余更新，降低服务器必须计算的逻辑量。可能会对个别的红石机器产生影响，</p>
<p>但其提升非常大，性能提升可能有 70%，利大于弊。甚至还可以修复 Bukkit 造成的红石同步问题。</p>
<p><code>ALTERNATE_CURRENT</code>是基于 <a href="https://modrinth.com/mod/alternate-current" target="_blank" rel="noopener noreferrer">Alternate Current</a>。 更多信息请阅读该页面。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hopperdisable-move-event">hopper.disable-move-event<a class="hash-link" aria-label="hopper.disable-move-event的直接链接" title="hopper.disable-move-event的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#hopperdisable-move-event">​</a></h3>
<p>在 <code>paper-world-default.yml</code> 中控制漏斗的一个繁重的事件。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">推荐值: false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>仅当有插件监听<code>InventoryMoveItemEvent</code>时才会触发该事件。</p>
<p><strong>如果您想使用侦听此事件的插件,请不要设置为 true，比如保护插件！</strong></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hopperignore-occluding-blocks">hopper.ignore-occluding-blocks<a class="hash-link" aria-label="hopper.ignore-occluding-blocks的直接链接" title="hopper.ignore-occluding-blocks的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#hopperignore-occluding-blocks">​</a></h4>
<p>在 <code>paper-world-default.yml</code> 中控制漏斗是否会忽略完整方块内的容器。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">推荐值: true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>降低沙子或沙砾中的漏斗矿车之类的情况，启用该项可能会破坏一些红石装置。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="optimize-explosions">optimize-explosions<a class="hash-link" aria-label="optimize-explosions的直接链接" title="optimize-explosions的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#optimize-explosions">​</a></h3>
<p>在 <code>paper-world-default.yml</code> 中控制是否启用爆炸优化。</p>
<p>将此项设为<code>true</code>可以将原版爆炸算法替换成优化版本，略微牺牲非常小的爆炸伤害换取爆炸时的大量性能提升。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">推荐值: true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tick-per">tick-per<a class="hash-link" aria-label="tick-per的直接链接" title="tick-per的直接链接" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#tick-per">​</a></h3>
<p>ticks-per:
hopper-transfer: 8
hopper-check: 1</p>
<p><code>hopper-transfer</code> 控制了漏斗多少 tick 传输一次物品；</p>
<p><code>hopper-check</code> 控制了漏斗一次运输多少物品。</p>
<p>在漏斗特别多的服务器中，合理搭配<code>hopper-transfer</code> 和 <code>hopper-check</code> 可以降低漏斗占用。（但可能略微影响一些机器的行为，如分类机）</p>
<p>另外，使用更高的 <code>hopper-check</code> 能够增加漏斗在单位时间的物品传输效率，</p>
<p>降低同样数量物品的漏斗使用时间，进一步降低漏斗占用。</p>
<table><thead><tr><th>漏斗速度</th><th>服务器占用</th><th>hopper-transfer</th><th>hopper-check</th></tr></thead><tbody><tr><td>50%</td><td>中低</td><td>16</td><td>1</td></tr><tr><td>100%</td><td>中高</td><td>8</td><td>1</td></tr><tr><td>100%</td><td>低</td><td>16</td><td>2</td></tr><tr><td>200%</td><td>中</td><td>8</td><td>2</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/postyizhan/NitWikit/tree/main/docs/maintenance/optimize/parameter-adjustment/performance-optimization.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/NitWikit/category/参数调整"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">参数调整</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/NitWikit/maintenance/optimize/parameter-adjustment/misc"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">杂项优化</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#区块">区块</a><ul><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#模拟距离">模拟距离</a></li><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#区块生成和加载">区块生成和加载</a></li><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#调整区块卸载速度">调整区块卸载速度</a></li><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#世界保存">世界保存</a></li><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#藏宝图">藏宝图</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#实体">实体</a><ul><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#控制实体数量">控制实体数量</a></li><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#实体刷新及消失">实体刷新及消失</a></li><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#碰撞箱">碰撞箱</a></li><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#实体-ai">实体 AI</a></li><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#掉落物及经验">掉落物及经验</a></li><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#弓箭">弓箭</a></li><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#盔甲架">盔甲架</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#红石">红石</a><ul><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#redstone-implementation">redstone-implementation</a></li><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#hopperdisable-move-event">hopper.disable-move-event</a></li><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#optimize-explosions">optimize-explosions</a></li><li><a class="table-of-contents__link toc-highlight" href="/NitWikit/maintenance/optimize/parameter-adjustment/performance-optimization#tick-per">tick-per</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/NitWikit/intro">开始</a></li></ul></div><div class="col footer__col"><div class="footer__title">交流</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://qm.qq.com/q/dENGavSflK" target="_blank" rel="noopener noreferrer" class="footer__link-item">QQ群<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">文档仓库</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/postyizhan/NitWikit" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 <b>postyizhan</b>, All Rights Reserved.</div></div></div></footer></div>
</body>
</html>